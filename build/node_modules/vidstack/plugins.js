import At from"node:fs";import Rt from"node:path";import{fileURLToPath as ht}from"node:url";import he,{sep as xe,resolve as gt}from"path";import ge from"util";import{createUnplugin as _t}from"unplugin";function Te(e,r){return r={exports:{}},e(r,r.exports),r.exports}var w=Te(function(e,r){r.isInteger=t=>typeof t=="number"?Number.isInteger(t):typeof t=="string"&&t.trim()!==""?Number.isInteger(Number(t)):!1,r.find=(t,n)=>t.nodes.find(a=>a.type===n),r.exceedsLimit=(t,n,a=1,i)=>i===!1||!r.isInteger(t)||!r.isInteger(n)?!1:(Number(n)-Number(t))/Number(a)>=i,r.escapeNode=(t,n=0,a)=>{let i=t.nodes[n];i&&(a&&i.type===a||i.type==="open"||i.type==="close")&&i.escaped!==!0&&(i.value="\\"+i.value,i.escaped=!0)},r.encloseBrace=t=>t.type!=="brace"||t.commas>>0+t.ranges>>0?!1:(t.invalid=!0,!0),r.isInvalidBrace=t=>t.type!=="brace"?!1:t.invalid===!0||t.dollar?!0:!(t.commas>>0+t.ranges>>0)||t.open!==!0||t.close!==!0?(t.invalid=!0,!0):!1,r.isOpenOrClose=t=>t.type==="open"||t.type==="close"?!0:t.open===!0||t.close===!0,r.reduce=t=>t.reduce((n,a)=>(a.type==="text"&&n.push(a.value),a.type==="range"&&(a.type="text"),n),[]),r.flatten=(...t)=>{const n=[],a=i=>{for(let s=0;s<i.length;s++){let l=i[s];Array.isArray(l)?a(l):l!==void 0&&n.push(l)}return n};return a(t),n}});w.isInteger,w.find,w.exceedsLimit,w.escapeNode,w.encloseBrace,w.isInvalidBrace,w.isOpenOrClose,w.reduce,w.flatten;var te=(e,r={})=>{let t=(n,a={})=>{let i=r.escapeInvalid&&w.isInvalidBrace(a),s=n.invalid===!0&&r.escapeInvalid===!0,l="";if(n.value)return(i||s)&&w.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let h of n.nodes)l+=t(h);return l};return t(e)};var Oe=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1};const z=(e,r,t)=>{if(Oe(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(r===void 0||e===r)return String(e);if(Oe(r)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n=Object.assign({relaxZeros:!0},t);typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let a=String(n.relaxZeros),i=String(n.shorthand),s=String(n.capture),l=String(n.wrap),h=e+":"+r+"="+a+i+s+l;if(z.cache.hasOwnProperty(h))return z.cache[h].result;let A=Math.min(e,r),R=Math.max(e,r);if(Math.abs(A-R)===1){let p=e+"|"+r;return n.capture?`(${p})`:n.wrap===!1?p:`(?:${p})`}let d=Me(e)||Me(r),c={min:e,max:r,a:A,b:R},S=[],E=[];if(d&&(c.isPadded=d,c.maxLen=String(c.max).length),A<0){let p=R<0?Math.abs(R):1;E=$e(p,Math.abs(A),c,n),A=c.a=0}return R>=0&&(S=$e(A,R,c,n)),c.negatives=E,c.positives=S,c.result=dt(E,S),n.capture===!0?c.result=`(${c.result})`:n.wrap!==!1&&S.length+E.length>1&&(c.result=`(?:${c.result})`),z.cache[h]=c,c.result};function dt(e,r,t){let n=_e(e,r,"-",!1)||[],a=_e(r,e,"",!1)||[],i=_e(e,r,"-?",!0)||[];return n.concat(i).concat(a).join("|")}function Et(e,r){let t=1,n=1,a=we(e,t),i=new Set([r]);for(;e<=a&&a<=r;)i.add(a),t+=1,a=we(e,t);for(a=Ne(r+1,n)-1;e<a&&a<=r;)i.add(a),n+=1,a=Ne(r+1,n)-1;return i=[...i],i.sort(St),i}function yt(e,r,t){if(e===r)return{pattern:e,count:[],digits:0};let n=Ct(e,r),a=n.length,i="",s=0;for(let l=0;l<a;l++){let[h,A]=n[l];h===A?i+=h:h!=="0"||A!=="9"?i+=mt(h,A):s++}return s&&(i+=t.shorthand===!0?"\\d":"[0-9]"),{pattern:i,count:[s],digits:a}}function $e(e,r,t,n){let a=Et(e,r),i=[],s=e,l;for(let h=0;h<a.length;h++){let A=a[h],R=yt(String(s),String(A),n),d="";if(!t.isPadded&&l&&l.pattern===R.pattern){l.count.length>1&&l.count.pop(),l.count.push(R.count[0]),l.string=l.pattern+Ie(l.count),s=A+1;continue}t.isPadded&&(d=vt(A,t,n)),R.string=d+R.pattern+Ie(R.count),i.push(R),s=A+1,l=R}return i}function _e(e,r,t,n,a){let i=[];for(let s of e){let{string:l}=s;!n&&!Le(r,"string",l)&&i.push(t+l),n&&Le(r,"string",l)&&i.push(t+l)}return i}function Ct(e,r){let t=[];for(let n=0;n<e.length;n++)t.push([e[n],r[n]]);return t}function St(e,r){return e>r?1:r>e?-1:0}function Le(e,r,t){return e.some(n=>n[r]===t)}function we(e,r){return Number(String(e).slice(0,-r)+"9".repeat(r))}function Ne(e,r){return e-e%Math.pow(10,r)}function Ie(e){let[r=0,t=""]=e;return t||r>1?`{${r+(t?","+t:"")}}`:""}function mt(e,r,t){return`[${e}${r-e===1?"":"-"}${r}]`}function Me(e){return/^-?(0+)\d/.test(e)}function vt(e,r,t){if(!r.isPadded)return e;let n=Math.abs(r.maxLen-String(e).length),a=t.relaxZeros!==!1;switch(n){case 0:return"";case 1:return a?"0?":"0";case 2:return a?"0{0,2}":"00";default:return a?`0{0,${n}}`:`0{${n}}`}}z.cache={},z.clearCache=()=>z.cache={};var ke=z;const Be=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),Ht=e=>r=>e===!0?Number(r):String(r),de=e=>typeof e=="number"||typeof e=="string"&&e!=="",re=e=>Number.isInteger(+e),Ee=e=>{let r=`${e}`,t=-1;if(r[0]==="-"&&(r=r.slice(1)),r==="0")return!1;for(;r[++t]==="0";);return t>0},bt=(e,r,t)=>typeof e=="string"||typeof r=="string"?!0:t.stringify===!0,xt=(e,r,t)=>{if(r>0){let n=e[0]==="-"?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?r-1:r,"0")}return t===!1?String(e):e},Pe=(e,r)=>{let t=e[0]==="-"?"-":"";for(t&&(e=e.slice(1),r--);e.length<r;)e="0"+e;return t?"-"+e:e},Tt=(e,r)=>{e.negatives.sort((s,l)=>s<l?-1:s>l?1:0),e.positives.sort((s,l)=>s<l?-1:s>l?1:0);let t=r.capture?"":"?:",n="",a="",i;return e.positives.length&&(n=e.positives.join("|")),e.negatives.length&&(a=`-(${t}${e.negatives.join("|")})`),n&&a?i=`${n}|${a}`:i=n||a,r.wrap?`(${t}${i})`:i},De=(e,r,t,n)=>{if(t)return ke(e,r,Object.assign({wrap:!1},n));let a=String.fromCharCode(e);if(e===r)return a;let i=String.fromCharCode(r);return`[${a}-${i}]`},Ue=(e,r,t)=>{if(Array.isArray(e)){let n=t.wrap===!0,a=t.capture?"":"?:";return n?`(${a}${e.join("|")})`:e.join("|")}return ke(e,r,t)},Ge=(...e)=>new RangeError("Invalid range arguments: "+ge.inspect(...e)),Ke=(e,r,t)=>{if(t.strictRanges===!0)throw Ge([e,r]);return[]},Ot=(e,r)=>{if(r.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},$t=(e,r,t=1,n={})=>{let a=Number(e),i=Number(r);if(!Number.isInteger(a)||!Number.isInteger(i)){if(n.strictRanges===!0)throw Ge([e,r]);return[]}a===0&&(a=0),i===0&&(i=0);let s=a>i,l=String(e),h=String(r),A=String(t);t=Math.max(Math.abs(t),1);let R=Ee(l)||Ee(h)||Ee(A),d=R?Math.max(l.length,h.length,A.length):0,c=R===!1&&bt(e,r,n)===!1,S=n.transform||Ht(c);if(n.toRegex&&t===1)return De(Pe(e,d),Pe(r,d),!0,n);let E={negatives:[],positives:[]},p=v=>E[v<0?"negatives":"positives"].push(Math.abs(v)),y=[],m=0;for(;s?a>=i:a<=i;)n.toRegex===!0&&t>1?p(a):y.push(xt(S(a,m),d,c)),a=s?a-t:a+t,m++;return n.toRegex===!0?t>1?Tt(E,n):Ue(y,null,Object.assign({wrap:!1},n)):y},Lt=(e,r,t=1,n={})=>{if(!re(e)&&e.length>1||!re(r)&&r.length>1)return Ke(e,r,n);let a=n.transform||(c=>String.fromCharCode(c)),i=`${e}`.charCodeAt(0),s=`${r}`.charCodeAt(0),l=i>s,h=Math.min(i,s),A=Math.max(i,s);if(n.toRegex&&t===1)return De(h,A,!1,n);let R=[],d=0;for(;l?i>=s:i<=s;)R.push(a(i,d)),i=l?i-t:i+t,d++;return n.toRegex===!0?Ue(R,null,{wrap:!1,options:n}):R},pe=(e,r,t,n={})=>{if(r==null&&de(e))return[e];if(!de(e)||!de(r))return Ke(e,r,n);if(typeof t=="function")return pe(e,r,1,{transform:t});if(Be(t))return pe(e,r,0,t);let a=Object.assign({},n);return a.capture===!0&&(a.wrap=!0),t=t||a.step||1,re(t)?re(e)&&re(r)?$t(e,r,t,a):Lt(e,r,Math.max(Math.abs(t),1),a):t!=null&&!Be(t)?Ot(t,a):pe(e,r,1,t)};var Fe=pe;const wt=(e,r={})=>{let t=(n,a={})=>{let i=w.isInvalidBrace(a),s=n.invalid===!0&&r.escapeInvalid===!0,l=i===!0||s===!0,h=r.escapeInvalid===!0?"\\":"",A="";if(n.isOpen===!0||n.isClose===!0)return h+n.value;if(n.type==="open")return l?h+n.value:"(";if(n.type==="close")return l?h+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":l?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let R=w.reduce(n.nodes),d=Fe(...R,Object.assign({},r,{wrap:!1,toRegex:!0}));if(d.length!==0)return R.length>1&&d.length>1?`(${d})`:d}if(n.nodes)for(let R of n.nodes)A+=t(R,n);return A};return t(e)};var Nt=wt;const Z=(e="",r="",t=!1)=>{let n=[];if(e=[].concat(e),r=[].concat(r),!r.length)return e;if(!e.length)return t?w.flatten(r).map(a=>`{${a}}`):r;for(let a of e)if(Array.isArray(a))for(let i of a)n.push(Z(i,r,t));else for(let i of r)t===!0&&typeof i=="string"&&(i=`{${i}}`),n.push(Array.isArray(i)?Z(a,i,t):a+i);return w.flatten(n)},It=(e,r={})=>{let t=r.rangeLimit===void 0?1e3:r.rangeLimit,n=(a,i={})=>{a.queue=[];let s=i,l=i.queue;for(;s.type!=="brace"&&s.type!=="root"&&s.parent;)s=s.parent,l=s.queue;if(a.invalid||a.dollar){l.push(Z(l.pop(),te(a,r)));return}if(a.type==="brace"&&a.invalid!==!0&&a.nodes.length===2){l.push(Z(l.pop(),["{}"]));return}if(a.nodes&&a.ranges>0){let d=w.reduce(a.nodes);if(w.exceedsLimit(...d,r.step,t))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let c=Fe(...d,r);c.length===0&&(c=te(a,r)),l.push(Z(l.pop(),c)),a.nodes=[];return}let h=w.encloseBrace(a),A=a.queue,R=a;for(;R.type!=="brace"&&R.type!=="root"&&R.parent;)R=R.parent,A=R.queue;for(let d=0;d<a.nodes.length;d++){let c=a.nodes[d];if(c.type==="comma"&&a.type==="brace"){d===1&&A.push(""),A.push("");continue}if(c.type==="close"){l.push(Z(l.pop(),A,h));continue}if(c.value&&c.type!=="open"){A.push(Z(A.pop(),c.value));continue}c.nodes&&n(c,a)}return A};return w.flatten(n(e))};var Mt=It,kt={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"};const{MAX_LENGTH:je,CHAR_BACKSLASH:ye,CHAR_BACKTICK:Bt,CHAR_COMMA:Pt,CHAR_DOT:Dt,CHAR_LEFT_PARENTHESES:Ut,CHAR_RIGHT_PARENTHESES:Gt,CHAR_LEFT_CURLY_BRACE:Kt,CHAR_RIGHT_CURLY_BRACE:Ft,CHAR_LEFT_SQUARE_BRACKET:Qe,CHAR_RIGHT_SQUARE_BRACKET:We,CHAR_DOUBLE_QUOTE:jt,CHAR_SINGLE_QUOTE:Qt,CHAR_NO_BREAK_SPACE:Wt,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Xt}=kt,zt=(e,r={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let t=r||{},n=typeof t.maxLength=="number"?Math.min(je,t.maxLength):je;if(e.length>n)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${n})`);let a={type:"root",input:e,nodes:[]},i=[a],s=a,l=a,h=0,A=e.length,R=0,d=0,c;const S=()=>e[R++],E=p=>{if(p.type==="text"&&l.type==="dot"&&(l.type="text"),l&&l.type==="text"&&p.type==="text"){l.value+=p.value;return}return s.nodes.push(p),p.parent=s,p.prev=l,l=p,p};for(E({type:"bos"});R<A;)if(s=i[i.length-1],c=S(),!(c===Xt||c===Wt)){if(c===ye){E({type:"text",value:(r.keepEscaping?c:"")+S()});continue}if(c===We){E({type:"text",value:"\\"+c});continue}if(c===Qe){h++;let p;for(;R<A&&(p=S());){if(c+=p,p===Qe){h++;continue}if(p===ye){c+=S();continue}if(p===We&&(h--,h===0))break}E({type:"text",value:c});continue}if(c===Ut){s=E({type:"paren",nodes:[]}),i.push(s),E({type:"text",value:c});continue}if(c===Gt){if(s.type!=="paren"){E({type:"text",value:c});continue}s=i.pop(),E({type:"text",value:c}),s=i[i.length-1];continue}if(c===jt||c===Qt||c===Bt){let p=c,y;for(r.keepQuotes!==!0&&(c="");R<A&&(y=S());){if(y===ye){c+=y+S();continue}if(y===p){r.keepQuotes===!0&&(c+=y);break}c+=y}E({type:"text",value:c});continue}if(c===Kt){d++;let y={type:"brace",open:!0,close:!1,dollar:l.value&&l.value.slice(-1)==="$"||s.dollar===!0,depth:d,commas:0,ranges:0,nodes:[]};s=E(y),i.push(s),E({type:"open",value:c});continue}if(c===Ft){if(s.type!=="brace"){E({type:"text",value:c});continue}let p="close";s=i.pop(),s.close=!0,E({type:p,value:c}),d--,s=i[i.length-1];continue}if(c===Pt&&d>0){if(s.ranges>0){s.ranges=0;let p=s.nodes.shift();s.nodes=[p,{type:"text",value:te(s)}]}E({type:"comma",value:c}),s.commas++;continue}if(c===Dt&&d>0&&s.commas===0){let p=s.nodes;if(d===0||p.length===0){E({type:"text",value:c});continue}if(l.type==="dot"){if(s.range=[],l.value+=c,l.type="range",s.nodes.length!==3&&s.nodes.length!==5){s.invalid=!0,s.ranges=0,l.type="text";continue}s.ranges++,s.args=[];continue}if(l.type==="range"){p.pop();let y=p[p.length-1];y.value+=l.value+c,l=y,s.ranges--;continue}E({type:"dot",value:c});continue}E({type:"text",value:c})}do if(s=i.pop(),s.type!=="root"){s.nodes.forEach(m=>{m.nodes||(m.type==="open"&&(m.isOpen=!0),m.type==="close"&&(m.isClose=!0),m.nodes||(m.type="text"),m.invalid=!0)});let p=i[i.length-1],y=p.nodes.indexOf(s);p.nodes.splice(y,1,...s.nodes)}while(i.length>0);return E({type:"eos"}),a};var Zt=zt;const k=(e,r={})=>{let t=[];if(Array.isArray(e))for(let n of e){let a=k.create(n,r);Array.isArray(a)?t.push(...a):t.push(a)}else t=[].concat(k.create(e,r));return r&&r.expand===!0&&r.nodupes===!0&&(t=[...new Set(t)]),t};k.parse=(e,r={})=>Zt(e,r),k.stringify=(e,r={})=>te(typeof e=="string"?k.parse(e,r):e,r),k.compile=(e,r={})=>(typeof e=="string"&&(e=k.parse(e,r)),Nt(e,r)),k.expand=(e,r={})=>{typeof e=="string"&&(e=k.parse(e,r));let t=Mt(e,r);return r.noempty===!0&&(t=t.filter(Boolean)),r.nodupes===!0&&(t=[...new Set(t)]),t},k.create=(e,r={})=>e===""||e.length<3?[e]:r.expand!==!0?k.compile(e,r):k.expand(e,r);var Xe=k;const U="\\\\/",ze=`[^${U}]`,F="\\.",qt="\\+",Yt="\\?",Ae="\\/",Vt="(?=.)",Ze="[^/]",Ce=`(?:${Ae}|$)`,qe=`(?:^|${Ae})`,Se=`${F}{1,2}${Ce}`,Jt=`(?!${F})`,er=`(?!${qe}${Se})`,tr=`(?!${F}{0,1}${Ce})`,rr=`(?!${Se})`,nr=`[^.${Ae}]`,sr=`${Ze}*?`,Ye={DOT_LITERAL:F,PLUS_LITERAL:qt,QMARK_LITERAL:Yt,SLASH_LITERAL:Ae,ONE_CHAR:Vt,QMARK:Ze,END_ANCHOR:Ce,DOTS_SLASH:Se,NO_DOT:Jt,NO_DOTS:er,NO_DOT_SLASH:tr,NO_DOTS_SLASH:rr,QMARK_NO_DOT:nr,STAR:sr,START_ANCHOR:qe},ar=Object.assign({},Ye,{SLASH_LITERAL:`[${U}]`,QMARK:ze,STAR:`${ze}*?`,DOTS_SLASH:`${F}{1,2}(?:[${U}]|$)`,NO_DOT:`(?!${F})`,NO_DOTS:`(?!(?:^|[${U}])${F}{1,2}(?:[${U}]|$))`,NO_DOT_SLASH:`(?!${F}{0,1}(?:[${U}]|$))`,NO_DOTS_SLASH:`(?!${F}{1,2}(?:[${U}]|$))`,QMARK_NO_DOT:`[^.${U}]`,START_ANCHOR:`(?:^|[${U}])`,END_ANCHOR:`(?:[${U}]|$)`}),ir={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};var q={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:ir,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHAR:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:he.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?ar:Ye}},T=Te(function(e,r){const t=process.platform==="win32",{REGEX_SPECIAL_CHARS:n,REGEX_SPECIAL_CHARS_GLOBAL:a,REGEX_REMOVE_BACKSLASH:i}=q;r.isObject=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r.hasRegexChars=s=>n.test(s),r.isRegexChar=s=>s.length===1&&r.hasRegexChars(s),r.escapeRegex=s=>s.replace(a,"\\$1"),r.toPosixSlashes=s=>s.replace(/\\/g,"/"),r.removeBackslashes=s=>s.replace(i,l=>l==="\\"?"":l),r.supportsLookbehinds=()=>{let s=process.version.slice(1).split(".");return s.length===3&&+s[0]>=9||+s[0]==8&&+s[1]>=10},r.isWindows=s=>s&&typeof s.windows=="boolean"?s.windows:t===!0||he.sep==="\\",r.escapeLast=(s,l,h)=>{let A=s.lastIndexOf(l,h);return A===-1?s:s[A-1]==="\\"?r.escapeLast(s,l,A-1):s.slice(0,A)+"\\"+s.slice(A)}});T.isObject,T.hasRegexChars,T.isRegexChar,T.escapeRegex,T.toPosixSlashes,T.removeBackslashes,T.supportsLookbehinds,T.isWindows,T.escapeLast;const{CHAR_ASTERISK:Ve,CHAR_AT:lr,CHAR_BACKWARD_SLASH:ne,CHAR_COMMA:ur,CHAR_DOT:me,CHAR_EXCLAMATION_MARK:Je,CHAR_FORWARD_SLASH:et,CHAR_LEFT_CURLY_BRACE:ve,CHAR_LEFT_PARENTHESES:tt,CHAR_LEFT_SQUARE_BRACKET:or,CHAR_PLUS:cr,CHAR_QUESTION_MARK:fr,CHAR_RIGHT_CURLY_BRACE:pr,CHAR_RIGHT_PARENTHESES:Ar,CHAR_RIGHT_SQUARE_BRACKET:Rr}=q,hr=e=>e===et||e===ne;var gr=(e,r)=>{let t=r||{},n=e.length-1,a=-1,i=0,s=0,l=!1,h=!1,A=!1,R=0,d,c,S=!1,E=()=>a>=n,p=()=>(d=c,e.charCodeAt(++a));for(;a<n;){c=p();let b;if(c===ne){h=!0,b=p(),b===ve&&(S=!0);continue}if(S===!0||c===ve)for(R++;!E()&&(b=p());){if(b===ne){h=!0,b=p();continue}if(b===ve){R++;continue}if(!S&&b===me&&(b=p())===me){l=!0;break}if(!S&&b===ur){l=!0;break}if(b===pr&&(R--,R===0)){S=!1;break}}if(c===et){if(d===me&&a===i+1){i+=2;continue}s=a+1;continue}if(c===Ve){l=!0;break}if(c===Ve||c===fr){l=!0;break}if(c===or)for(;!E()&&(b=p());){if(b===ne){h=!0,b=p();continue}if(b===Rr){l=!0;break}}if((c===cr||c===lr||c===Je)&&e.charCodeAt(a+1)===tt){l=!0;break}if(c===Je&&a===i){A=!0,i++;continue}if(c===tt)for(;!E()&&(b=p());){if(b===ne){h=!0,b=p();continue}if(b===Ar){l=!0;break}}if(l)break}let y="",m=e,v=e,x="";return i>0&&(y=e.slice(0,i),e=e.slice(i),s-=i),v&&l===!0&&s>0?(v=e.slice(0,s),x=e.slice(s)):l===!0?(v="",x=e):v=e,v&&v!==""&&v!=="/"&&v!==e&&hr(v.charCodeAt(v.length-1))&&(v=v.slice(0,-1)),t.unescape===!0&&(x&&(x=T.removeBackslashes(x)),v&&h===!0&&(v=T.removeBackslashes(v))),{prefix:y,input:m,base:v,glob:x,negated:A,isGlob:l}};const{MAX_LENGTH:Re,POSIX_REGEX_SOURCE:_r,REGEX_NON_SPECIAL_CHAR:dr,REGEX_SPECIAL_CHARS_BACKREF:Er,REPLACEMENTS:rt}=q,yr=(e,r)=>typeof r.expandRange=="function"?r.expandRange(...e,r):(e.sort(),`[${e.join("-")}]`),Cr=e=>{let r=1;for(;e.peek()==="!"&&(e.peek(2)!=="("||e.peek(3)==="?");)e.advance(),e.start++,r++;return r%2===0?!1:(e.negated=!0,e.start++,!0)},J=(e,r)=>`Missing ${e}: "${r}" - use "\\\\${r}" to match literal characters`,nt=(e,r)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=rt[e]||e;let t=Object.assign({},r),n=typeof t.maxLength=="number"?Math.min(Re,t.maxLength):Re,a=e.length;if(a>n)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${n}`);let i={type:"bos",value:"",output:t.prepend||""},s=[i],l=t.capture?"":"?:",h=T.isWindows(r);const A=q.globChars(h),R=q.extglobChars(A),{DOT_LITERAL:d,PLUS_LITERAL:c,SLASH_LITERAL:S,ONE_CHAR:E,DOTS_SLASH:p,NO_DOT:y,NO_DOT_SLASH:m,NO_DOTS_SLASH:v,QMARK:x,QMARK_NO_DOT:b,STAR:I,START_ANCHOR:j}=A,M=_=>`(${l}(?:(?!${j}${_.dot?p:d}).)*?)`;let Y=t.dot?"":y,K=t.bash===!0?M(t):I,ft=t.dot?x:b;t.capture&&(K=`(${K})`),typeof t.noext=="boolean"&&(t.noextglob=t.noext);let f={index:-1,start:0,consumed:"",output:"",backtrack:!1,brackets:0,braces:0,parens:0,quotes:0,tokens:s},B=[],ie=[],o=i,u;const V=()=>f.index===a-1,$=f.peek=(_=1)=>e[f.index+_],Q=f.advance=()=>e[++f.index],le=_=>{f.output+=_.output!=null?_.output:_.value,f.consumed+=_.value||""},ue=_=>{f[_]++,ie.push(_)},W=_=>{f[_]--,ie.pop()},H=_=>{if(o.type==="globstar"){let g=f.braces>0&&(_.type==="comma"||_.type==="brace"),C=B.length&&(_.type==="pipe"||_.type==="paren");_.type!=="slash"&&_.type!=="paren"&&!g&&!C&&(f.output=f.output.slice(0,-o.output.length),o.type="star",o.value="*",o.output=K,f.output+=o.output)}if(B.length&&_.type!=="paren"&&!R[_.value]&&(B[B.length-1].inner+=_.value),(_.value||_.output)&&le(_),o&&o.type==="text"&&_.type==="text"){o.value+=_.value;return}_.prev=o,s.push(_),o=_},oe=(_,g)=>{let C=Object.assign({},R[g],{conditions:1,inner:""});C.prev=o,C.parens=f.parens,C.output=f.output;let L=(t.capture?"(":"")+C.open;H({type:_,value:g,output:f.output?"":E}),H({type:"paren",extglob:!0,value:Q(),output:L}),ue("parens"),B.push(C)},pt=_=>{let g=_.close+(t.capture?")":"");if(_.type==="negate"){let C=K;_.inner&&_.inner.length>1&&_.inner.includes("/")&&(C=M(t)),(C!==K||V()||/^\)+$/.test(e.slice(f.index+1)))&&(g=_.close=")$))"+C),_.prev.type==="bos"&&V()&&(f.negatedExtglob=!0)}H({type:"paren",extglob:!0,value:u,output:g}),W("parens")};if(t.fastpaths!==!1&&!/(^[*!]|[/{[()\]}"])/.test(e)){let _=!1,g=e.replace(Er,(C,L,P,D,X,ce)=>D==="\\"?(_=!0,C):D==="?"?L?L+D+(X?x.repeat(X.length):""):ce===0?ft+(X?x.repeat(X.length):""):x.repeat(P.length):D==="."?d.repeat(P.length):D==="*"?L?L+D+(X?K:""):K:L?C:"\\"+C);return _===!0&&(t.unescape===!0?g=g.replace(/\\/g,""):g=g.replace(/\\+/g,C=>C.length%2===0?"\\\\":C?"\\":"")),f.output=g,f}for(;!V();){if(u=Q(),u==="\0")continue;if(u==="\\"){let g=$();if(g==="/"&&t.bash!==!0||g==="."||g===";")continue;if(!g){u+="\\",H({type:"text",value:u});continue}let C=/^\\+/.exec(e.slice(f.index+1)),L=0;if(C&&C[0].length>2&&(L=C[0].length,f.index+=L,L%2!==0&&(u+="\\")),t.unescape===!0?u=Q()||"":u+=Q()||"",f.brackets===0){H({type:"text",value:u});continue}}if(f.brackets>0&&(u!=="]"||o.value==="["||o.value==="[^")){if(t.posix!==!1&&u===":"){let g=o.value.slice(1);if(g.includes("[")&&(o.posix=!0,g.includes(":"))){let C=o.value.lastIndexOf("["),L=o.value.slice(0,C),P=o.value.slice(C+2),D=_r[P];if(D){o.value=L+D,f.backtrack=!0,Q(),!i.output&&s.indexOf(o)===1&&(i.output=E);continue}}}(u==="["&&$()!==":"||u==="-"&&$()==="]")&&(u="\\"+u),u==="]"&&(o.value==="["||o.value==="[^")&&(u="\\"+u),t.posix===!0&&u==="!"&&o.value==="["&&(u="^"),o.value+=u,le({value:u});continue}if(f.quotes===1&&u!=='"'){u=T.escapeRegex(u),o.value+=u,le({value:u});continue}if(u==='"'){f.quotes=f.quotes===1?0:1,t.keepQuotes===!0&&H({type:"text",value:u});continue}if(u==="("){H({type:"paren",value:u}),ue("parens");continue}if(u===")"){if(f.parens===0&&t.strictBrackets===!0)throw new SyntaxError(J("opening","("));let g=B[B.length-1];if(g&&f.parens===g.parens+1){pt(B.pop());continue}H({type:"paren",value:u,output:f.parens?")":"\\)"}),W("parens");continue}if(u==="["){if(t.nobracket===!0||!e.slice(f.index+1).includes("]")){if(t.nobracket!==!0&&t.strictBrackets===!0)throw new SyntaxError(J("closing","]"));u="\\"+u}else ue("brackets");H({type:"bracket",value:u});continue}if(u==="]"){if(t.nobracket===!0||o&&o.type==="bracket"&&o.value.length===1){H({type:"text",value:u,output:"\\"+u});continue}if(f.brackets===0){if(t.strictBrackets===!0)throw new SyntaxError(J("opening","["));H({type:"text",value:u,output:"\\"+u});continue}W("brackets");let g=o.value.slice(1);if(o.posix!==!0&&g[0]==="^"&&!g.includes("/")&&(u="/"+u),o.value+=u,le({value:u}),t.literalBrackets===!1||T.hasRegexChars(g))continue;let C=T.escapeRegex(o.value);if(f.output=f.output.slice(0,-o.value.length),t.literalBrackets===!0){f.output+=C,o.value=C;continue}o.value=`(${l}${C}|${o.value})`,f.output+=o.value;continue}if(u==="{"&&t.nobrace!==!0){H({type:"brace",value:u,output:"("}),ue("braces");continue}if(u==="}"){if(t.nobrace===!0||f.braces===0){H({type:"text",value:u,output:"\\"+u});continue}let g=")";if(f.dots===!0){let C=s.slice(),L=[];for(let P=C.length-1;P>=0&&(s.pop(),C[P].type!=="brace");P--)C[P].type!=="dots"&&L.unshift(C[P].value);g=yr(L,t),f.backtrack=!0}H({type:"brace",value:u,output:g}),W("braces");continue}if(u==="|"){B.length>0&&B[B.length-1].conditions++,H({type:"text",value:u});continue}if(u===","){let g=u;f.braces>0&&ie[ie.length-1]==="braces"&&(g="|"),H({type:"comma",value:u,output:g});continue}if(u==="/"){if(o.type==="dot"&&f.index===1){f.start=f.index+1,f.consumed="",f.output="",s.pop(),o=i;continue}H({type:"slash",value:u,output:S});continue}if(u==="."){if(f.braces>0&&o.type==="dot"){o.value==="."&&(o.output=d),o.type="dots",o.output+=u,o.value+=u,f.dots=!0;continue}H({type:"dot",value:u,output:d});continue}if(u==="?"){if(o&&o.type==="paren"){let g=$(),C=u;if(g==="<"&&!T.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(o.value==="("&&!/[!=<:]/.test(g)||g==="<"&&!/[!=]/.test($(2)))&&(C="\\"+u),H({type:"text",value:u,output:C});continue}if(t.noextglob!==!0&&$()==="("&&$(2)!=="?"){oe("qmark",u);continue}if(t.dot!==!0&&(o.type==="slash"||o.type==="bos")){H({type:"qmark",value:u,output:b});continue}H({type:"qmark",value:u,output:x});continue}if(u==="!"){if(t.noextglob!==!0&&$()==="("&&($(2)!=="?"||!/[!=<:]/.test($(3)))){oe("negate",u);continue}if(t.nonegate!==!0&&f.index===0){Cr(f);continue}}if(u==="+"){if(t.noextglob!==!0&&$()==="("&&$(2)!=="?"){oe("plus",u);continue}if(o&&(o.type==="bracket"||o.type==="paren"||o.type==="brace")){let g=o.extglob===!0?"\\"+u:u;H({type:"plus",value:u,output:g});continue}if(f.parens>0&&t.regex!==!1){H({type:"plus",value:u});continue}H({type:"plus",value:c});continue}if(u==="@"){if(t.noextglob!==!0&&$()==="("&&$(2)!=="?"){H({type:"at",value:u,output:""});continue}H({type:"text",value:u});continue}if(u!=="*"){(u==="$"||u==="^")&&(u="\\"+u);let g=dr.exec(e.slice(f.index+1));g&&(u+=g[0],f.index+=g[0].length),H({type:"text",value:u});continue}if(o&&(o.type==="globstar"||o.star===!0)){o.type="star",o.star=!0,o.value+=u,o.output=K,f.backtrack=!0,f.consumed+=u;continue}if(t.noextglob!==!0&&$()==="("&&$(2)!=="?"){oe("star",u);continue}if(o.type==="star"){if(t.noglobstar===!0){f.consumed+=u;continue}let g=o.prev,C=g.prev,L=g.type==="slash"||g.type==="bos",P=C&&(C.type==="star"||C.type==="globstar");if(t.bash===!0&&(!L||!V()&&$()!=="/")){H({type:"star",value:u,output:""});continue}let D=f.braces>0&&(g.type==="comma"||g.type==="brace"),X=B.length&&(g.type==="pipe"||g.type==="paren");if(!L&&g.type!=="paren"&&!D&&!X){H({type:"star",value:u,output:""});continue}for(;e.slice(f.index+1,f.index+4)==="/**";){let fe=e[f.index+4];if(fe&&fe!=="/")break;f.consumed+="/**",f.index+=3}if(g.type==="bos"&&V()){o.type="globstar",o.value+=u,o.output=M(t),f.output=o.output,f.consumed+=u;continue}if(g.type==="slash"&&g.prev.type!=="bos"&&!P&&V()){f.output=f.output.slice(0,-(g.output+o.output).length),g.output="(?:"+g.output,o.type="globstar",o.output=M(t)+"|$)",o.value+=u,f.output+=g.output+o.output,f.consumed+=u;continue}let ce=$();if(g.type==="slash"&&g.prev.type!=="bos"&&ce==="/"){let fe=$(2)!==void 0?"|$":"";f.output=f.output.slice(0,-(g.output+o.output).length),g.output="(?:"+g.output,o.type="globstar",o.output=`${M(t)}${S}|${S}${fe})`,o.value+=u,f.output+=g.output+o.output,f.consumed+=u+Q(),H({type:"slash",value:u,output:""});continue}if(g.type==="bos"&&ce==="/"){o.type="globstar",o.value+=u,o.output=`(?:^|${S}|${M(t)}${S})`,f.output=o.output,f.consumed+=u+Q(),H({type:"slash",value:u,output:""});continue}f.output=f.output.slice(0,-o.output.length),o.type="globstar",o.output=M(t),o.value+=u,f.output+=o.output,f.consumed+=u;continue}let _={type:"star",value:u,output:K};if(t.bash===!0){_.output=".*?",(o.type==="bos"||o.type==="slash")&&(_.output=Y+_.output),H(_);continue}if(o&&(o.type==="bracket"||o.type==="paren")&&t.regex===!0){_.output=u,H(_);continue}(f.index===f.start||o.type==="slash"||o.type==="dot")&&(o.type==="dot"?(f.output+=m,o.output+=m):t.dot===!0?(f.output+=v,o.output+=v):(f.output+=Y,o.output+=Y),$()!=="*"&&(f.output+=E,o.output+=E)),H(_)}for(;f.brackets>0;){if(t.strictBrackets===!0)throw new SyntaxError(J("closing","]"));f.output=T.escapeLast(f.output,"["),W("brackets")}for(;f.parens>0;){if(t.strictBrackets===!0)throw new SyntaxError(J("closing",")"));f.output=T.escapeLast(f.output,"("),W("parens")}for(;f.braces>0;){if(t.strictBrackets===!0)throw new SyntaxError(J("closing","}"));f.output=T.escapeLast(f.output,"{"),W("braces")}if(t.strictSlashes!==!0&&(o.type==="star"||o.type==="bracket")&&H({type:"maybe_slash",value:"",output:`${S}?`}),f.backtrack===!0){f.output="";for(let _ of f.tokens)f.output+=_.output!=null?_.output:_.value,_.suffix&&(f.output+=_.suffix)}return f};nt.fastpaths=(e,r)=>{let t=Object.assign({},r),n=typeof t.maxLength=="number"?Math.min(Re,t.maxLength):Re,a=e.length;if(a>n)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${n}`);e=rt[e]||e;let i=T.isWindows(r);const{DOT_LITERAL:s,SLASH_LITERAL:l,ONE_CHAR:h,DOTS_SLASH:A,NO_DOT:R,NO_DOTS:d,NO_DOTS_SLASH:c,STAR:S,START_ANCHOR:E}=q.globChars(i);let p=t.capture?"":"?:",y=t.bash===!0?".*?":S,m=t.dot?d:R,v=t.dot?c:R;t.capture&&(y=`(${y})`);const x=j=>`(${p}(?:(?!${E}${j.dot?A:s}).)*?)`,b=j=>{switch(j){case"*":return`${m}${h}${y}`;case".*":return`${s}${h}${y}`;case"*.*":return`${m}${y}${s}${h}${y}`;case"*/*":return`${m}${y}${l}${h}${v}${y}`;case"**":return m+x(t);case"**/*":return`(?:${m}${x(t)}${l})?${v}${h}${y}`;case"**/*.*":return`(?:${m}${x(t)}${l})?${v}${y}${s}${h}${y}`;case"**/.*":return`(?:${m}${x(t)}${l})?${s}${h}${y}`;default:{let M=/^(.*?)\.(\w+)$/.exec(j);if(!M)return;let Y=b(M[1]);return Y?Y+s+M[2]:void 0}}};let I=b(e);return I&&t.strictSlashes!==!0&&(I+=`${l}?`),I};var st=nt;const N=(e,r,t=!1)=>{if(Array.isArray(e)){let A=e.map(R=>N(R,r,t));return R=>{for(let d of A){let c=d(R);if(c)return c}return!1}}if(typeof e!="string"||e==="")throw new TypeError("Expected pattern to be a non-empty string");let n=r||{},a=T.isWindows(r),i=N.makeRe(e,r,!1,!0),s=i.state;delete i.state;let l=()=>!1;if(n.ignore){let A=Object.assign({},r,{ignore:null,onMatch:null,onResult:null});l=N(n.ignore,A,t)}const h=(A,R=!1)=>{let{isMatch:d,match:c,output:S}=N.test(A,i,r,{glob:e,posix:a}),E={glob:e,state:s,regex:i,posix:a,input:A,output:S,match:c,isMatch:d};return typeof n.onResult=="function"&&n.onResult(E),d===!1?(E.isMatch=!1,R?E:!1):l(A)?(typeof n.onIgnore=="function"&&n.onIgnore(E),E.isMatch=!1,R?E:!1):(typeof n.onMatch=="function"&&n.onMatch(E),R?E:!0)};return t&&(h.state=s),h};N.test=(e,r,t,{glob:n,posix:a}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let i=t||{},s=i.format||(a?T.toPosixSlashes:null),l=e===n,h=l&&s?s(e):e;return l===!1&&(h=s?s(e):e,l=h===n),(l===!1||i.capture===!0)&&(i.matchBase===!0||i.basename===!0?l=N.matchBase(e,r,t,a):l=r.exec(h)),{isMatch:!!l,match:l,output:h}},N.matchBase=(e,r,t,n=T.isWindows(t))=>(r instanceof RegExp?r:N.makeRe(r,t)).test(he.basename(e)),N.isMatch=(e,r,t)=>N(r,t)(e),N.parse=(e,r)=>st(e,r),N.scan=(e,r)=>gr(e,r),N.makeRe=(e,r,t=!1,n=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let a=r||{},i=a.contains?"":"^",s=a.contains?"":"$",l={negated:!1,fastpaths:!0},h="",A;if(e.startsWith("./")&&(e=e.slice(2),h=l.prefix="./"),a.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(A=st.fastpaths(e,r)),A===void 0&&(l=N.parse(e,r),l.prefix=h+(l.prefix||""),A=l.output),t===!0)return A;let R=`${i}(?:${A})${s}`;l&&l.negated===!0&&(R=`^(?!${R}).*$`);let d=N.toRegex(R,r);return n===!0&&(d.state=l),d},N.toRegex=(e,r)=>{try{let t=r||{};return new RegExp(e,t.flags||(t.nocase?"i":""))}catch(t){if(r&&r.debug===!0)throw t;return/$^/}},N.constants=q;var Sr=N,G=Sr;const at=e=>typeof e=="string"&&(e===""||e==="./"),O=(e,r,t)=>{r=[].concat(r),e=[].concat(e);let n=new Set,a=new Set,i=new Set,s=0,l=R=>{i.add(R.output),t&&t.onResult&&t.onResult(R)};for(let R=0;R<r.length;R++){let d=G(String(r[R]),Object.assign({},t,{onResult:l}),!0),c=d.state.negated||d.state.negatedExtglob;c&&s++;for(let S of e){let E=d(S,!0);(c?!E.isMatch:E.isMatch)&&(c?n.add(E.output):(n.delete(E.output),a.add(E.output)))}}let A=(s===r.length?[...i]:[...a]).filter(R=>!n.has(R));if(t&&A.length===0){if(t.failglob===!0)throw new Error(`No matches found for "${r.join(", ")}"`);if(t.nonull===!0||t.nullglob===!0)return t.unescape?r.map(R=>R.replace(/\\/g,"")):r}return A};O.match=O,O.matcher=(e,r)=>G(e,r),O.isMatch=(e,r,t)=>G(r,t)(e),O.any=O.isMatch,O.not=(e,r,t={})=>{r=[].concat(r).map(String);let n=new Set,a=[],s=O(e,r,Object.assign({},t,{onResult:l=>{t.onResult&&t.onResult(l),a.push(l.output)}}));for(let l of a)s.includes(l)||n.add(l);return[...n]},O.contains=(e,r,t)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${ge.inspect(e)}"`);if(Array.isArray(r))return r.some(n=>O.contains(e,n,t));if(typeof r=="string"){if(at(e)||at(r))return!1;if(e.includes(r)||e.startsWith("./")&&e.slice(2).includes(r))return!0}return O.isMatch(e,r,Object.assign({},t,{contains:!0}))},O.matchKeys=(e,r,t)=>{if(!T.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=O(Object.keys(e),r,t),a={};for(let i of n)a[i]=e[i];return a},O.some=(e,r,t)=>{let n=[].concat(e);for(let a of[].concat(r)){let i=G(String(a),t);if(n.some(s=>i(s)))return!0}return!1},O.every=(e,r,t)=>{let n=[].concat(e);for(let a of[].concat(r)){let i=G(String(a),t);if(!n.every(s=>i(s)))return!1}return!0},O.all=(e,r,t)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${ge.inspect(e)}"`);return[].concat(r).every(n=>G(n,t)(e))},O.capture=(e,r,t)=>{let n=T.isWindows(t),i=G.makeRe(String(e),Object.assign({},t,{capture:!0})).exec(n?T.toPosixSlashes(r):r);if(i)return i.slice(1).map(s=>s===void 0?"":s)},O.makeRe=(...e)=>G.makeRe(...e),O.scan=(...e)=>G.scan(...e),O.parse=(e,r)=>{let t=[];for(let n of[].concat(e||[]))for(let a of Xe(String(n),r))t.push(G.parse(a,r));return t},O.braces=(e,r)=>{if(typeof e!="string")throw new TypeError("Expected a string");return r&&r.nobrace===!0||!/\{.*\}/.test(e)?[e]:Xe(e,r)},O.braceExpand=(e,r)=>{if(typeof e!="string")throw new TypeError("Expected a string");return O.braces(e,Object.assign({},r,{expand:!0}))};var mr=O;function it(e){return Array.isArray(e)?e:e==null?[]:[e]}function vr(e,r){return gt(e)}const Hr=function(r,t,n){const a=l=>l instanceof RegExp?l:{test:mr.matcher(vr(l).split(xe).join("/"),{dot:!0})},i=it(r).map(a),s=it(t).map(a);return function(l){if(typeof l!="string"||/\0/.test(l))return!1;l=l.split(xe).join("/");for(let h=0;h<s.length;++h)if(s[h].test(l))return!1;for(let h=0;h<i.length;++h)if(i[h].test(l))return!0;return!i.length}},br="break case class catch const continue debugger default delete do else export extends finally for function if import in instanceof let new return super switch this throw try typeof var void while with yield enum await implements package protected static interface private public",xr="arguments Infinity NaN undefined null true false eval uneval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Symbol Error EvalError InternalError RangeError ReferenceError SyntaxError TypeError URIError Number Math Date String RegExp Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array Map Set WeakMap WeakSet SIMD ArrayBuffer DataView JSON Promise Generator GeneratorFunction Reflect Proxy Intl",Tr=new Set(`${br} ${xr}`.split(" "));Tr.add("");const Or=ht(new URL(".",import.meta.url)),$r=/\.(jsx|tsx|html|vue|svelte)/,He="vidstack/bundle",Lr="media-",lt="vds-",wr=Rt.resolve(Or,"./elements.json"),Nr=At.readFileSync(wr,"utf8"),Ir=JSON.parse(Nr),se={"vds-buffering-indicator":"buffering.css","vds-button":"buttons.css","vds-captions":"captions.css","vds-chapter-title":"chapter-title.css","vds-controls":"controls.css","vds-gesture":"gestures.css","vds-icon":"icons.css","vds-kb-action":"keyboard.css","vds-menu":"menus.css","vds-poster":"poster.css","vds-slider":"sliders.css","vds-thumbnail":"thumbnail.css","vds-time":"time.css","vds-tooltip":"tooltips.css",audio:"layouts/audio.css",video:"layouts/video.css"};for(const e of Object.keys(se))se[e]=`vidstack/player/styles/default/${se[e]}`;const ee=_t((e={})=>{let r=e.include??$r,t=Hr(r,e.exclude),n={elementsGraph:new Map,stylesGraph:new Map},a=!1,i=!1,s=!1,l=new Map,h=new Map,A=null;function R(){return a||i}function d(p,y){const{elementsGraph:m,stylesGraph:v}=n,{elements:x,styles:b}=Mr(y);return x.size&&(x.has("media-audio-layout")&&(a=!0),x.has("media-video-layout")&&(i=!0),x.has("media-plyr-layout")&&(s=!0),m.set(p,x)),b.size&&v.set(p,b),{elements:x,styles:b}}function c(){if(A){S(He);for(const p of l.keys())S(p)}}function S(p){const y=A?.moduleGraph.getModuleById(p);y&&A?.moduleGraph.invalidateModule(y)}function E(){A?.hot.send({type:"full-reload"})}return[{name:"vidstack-pre",enforce:"pre",resolveId(p){if(p===He)return p;if(l.has(p))return p},load(p){if(p===He)return kr({defaultAudioLayout:a,defaultVideoLayout:i,plyrLayout:s});if(l.has(p)){if(R())return"";const y=l.get(p),m=n.elementsGraph.get(y),v=n.stylesGraph.get(y);return m||v?Br(m,v):""}return null},transformInclude(p){return t(p)},transform(p,y){return d(y,p),null},vite:{configureServer(p){A=p},async handleHotUpdate({file:p,read:y}){if(!t(p))return;const m=n.elementsGraph.get(p),v=n.stylesGraph.get(p),{elements:x,styles:b}=d(p,await y()),I=be(m,x,"media-audio-layout")||be(m,x,"media-video-layout")||be(m,x,"media-plyr-layout");if(n.elementsGraph.set(p,x),n.stylesGraph.set(p,b),I){a=!1,i=!1,s=!1,c(),E();return}if(!(ct(m,x)&&ct(v,b))){const M=h.get(p);M&&(S(M),E())}}}},{name:"vidstack-post",enforce:"post",transformInclude(p){return t(p)},transform(p,y){const{elementsGraph:m,stylesGraph:v}=n,x=m.get(y),b=v.get(y);if(x?.size||b?.size){let I=h.get(y);return I||(I=`:vidstack/chunk-${l.size}`,l.set(I,y),h.set(y,I)),p.startsWith(`import "${I}";`)?p:`import "${I}";
`+p}return null}}]}),ae=0,ut=1,ot=2;function Mr(e){let r=ae,t="",n="",a=new Set,i=new Set;for(let s=0;s<e.length;s++)switch(t=e[s],r){case ae:t==="<"&&e[s+1]!=="/"?(n="",r=ut):t==="v"&&e[s+1]==="d"&&e[s+2]==="s"&&e[s+3]==="-"&&(n="v",r=ot);break;case ut:t===" "||t===">"||t===`
`||t==="\r"?(n.startsWith(Lr)&&a.add(n),n="",r=ae):n+=t;break;case ot:n.startsWith(lt)?(n+=t,n in se&&(i.add(se[n]),n="",r=ae)):t===" "||t===`
`||t==="\r"||n.length>lt.length?r=ae:n+=t;break}return a.delete("media-player"),a.delete("media-provider"),{elements:a,styles:i}}function kr({defaultAudioLayout:e=!1,defaultVideoLayout:r=!1,plyrLayout:t=!1}){const n=[],a=[];return e||r?(n.push('import "vidstack/player/styles/default/theme.css";'),t&&n.push('import "vidstack/player/styles/plyr/theme.css";'),e&&n.push('import "vidstack/player/styles/default/layouts/audio.css";'),r&&n.push('import "vidstack/player/styles/default/layouts/video.css";'),a.push(`import "vidstack/player/layouts${t?"":"/default"}";`),a.push('import "vidstack/player/ui";')):(n.push('import "vidstack/player/styles/base.css";'),t&&(n.push('import "vidstack/player/styles/plyr/theme.css";'),a.push('import "vidstack/player/layouts/plyr";'))),[...n,'import "vidstack/player";',...a].join(`
`)}function Br(e=new Set,r=new Set){const t=[],n=new Set;for(const s of r)t.push(`import "${s}";`);for(const s of e){if(!e.has(s))continue;const l=Ir[s];l?n.add(l):l!=="media-icon"&&console.warn(`[vidstack]: unknown media element was found \`${s}\``)}if(n.size===0)return t.join(`
`);const a=["defineCustomElement",...n];t.push(`import {
${a.join(`,
`)}
} from "vidstack/elements";`);const i=[...n].map(s=>`defineCustomElement(${s});`);return t.join(`
`)+`

`+i.join(`
`)}function be(e,r,t){return!!e&&!!r&&e.has(t)&&r.has(t)}function ct(e,r){return!e?.size&&!r?.size||!!e&&!!r&&e.size===r.size&&[...e].every(t=>r.has(t))}const Pr=e=>ee.vite(e),Dr=e=>ee.rollup(e),Ur=e=>ee.webpack(e),Gr=e=>ee.rspack(e),Kr=e=>ee.esbuild(e);export{Kr as esbuild,Dr as rollup,Gr as rspack,ee as unplugin,Pr as vite,Ur as webpack};
